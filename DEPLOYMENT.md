# ShopGenius éƒ¨ç½²å’Œè¿è¡ŒæŒ‡å—

## ğŸ”§ å½“å‰çŠ¶æ€

### âœ… å·²å®ŒæˆåŠŸèƒ½
- **åç«¯APIæœåŠ¡å™¨**: å®Œå…¨åŠŸèƒ½æ­£å¸¸
- **å‰ç«¯é¡µé¢ä»£ç **: æ‰€æœ‰åŠŸèƒ½é¡µé¢å·²å¼€å‘å®Œæˆ
- **é¡¹ç›®æ¶æ„**: å®Œæ•´çš„Taro + Node.jsæ¶æ„

### âš ï¸ å‰ç«¯ç¼–è¯‘é—®é¢˜

ç›®å‰å‰ç«¯å­˜åœ¨Taro H5ç¼–è¯‘é…ç½®é—®é¢˜ï¼Œé¡µé¢æ˜¾ç¤ºç©ºç™½ã€‚

## ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—

### 1. å¯åŠ¨åç«¯æœåŠ¡ï¼ˆâœ… æ­£å¸¸å·¥ä½œï¼‰

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# å¯åŠ¨æœåŠ¡å™¨
node src/app.js
```

**è®¿é—®åœ°å€**: http://localhost:3000

**APIæµ‹è¯•**:
```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:3000/health

# è·å–å•†å“åˆ—è¡¨
curl http://localhost:3000/api/products

# æµ‹è¯•AIèŠå¤©
curl -X POST http://localhost:3000/api/ai/chat \
  -H "Content-Type: application/json" \
  -d '{"message":"æˆ‘æƒ³ä¹°ä¸€ä¸ªæ‰‹æœº"}'
```

### 2. å‰ç«¯ç¼–è¯‘é—®é¢˜è§£å†³æ–¹æ¡ˆ

#### é€‰é¡¹A: ä½¿ç”¨å®˜æ–¹Taro CLIé‡æ–°åˆå§‹åŒ–ï¼ˆæ¨èï¼‰

```bash
# 1. å¤‡ä»½ç°æœ‰é¡µé¢ä»£ç 
cp -r frontend/src/pages frontend_backup_pages
cp -r frontend/src/components frontend_backup_components

# 2. é‡æ–°åˆå§‹åŒ–Taroé¡¹ç›®
rm -rf frontend
npx @tarojs/cli init frontend --typescript --template react

# 3. å°†æˆ‘ä»¬çš„é¡µé¢ä»£ç å¤åˆ¶å›å»
cp -r frontend_backup_pages/* frontend/src/pages/
cp -r frontend_backup_components/* frontend/src/components/

# 4. é…ç½®app.config.js
# 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
cd frontend
npm run dev:h5
```

#### é€‰é¡¹B: ä¿®å¤å½“å‰é…ç½®

1. **ç®€åŒ–é…ç½®**:
   - æ£€æŸ¥`config/index.ts`é…ç½®
   - ç§»é™¤å¤æ‚çš„webpacké…ç½®
   - ä½¿ç”¨é»˜è®¤çš„Taroé…ç½®

2. **æ£€æŸ¥ä¾èµ–ç‰ˆæœ¬å…¼å®¹æ€§**:
   ```bash
   npm audit fix
   npm install --legacy-peer-deps
   ```

#### é€‰é¡¹C: åˆ›å»ºçº¯HTMLæ¼”ç¤ºç‰ˆæœ¬

å¦‚æœéœ€è¦å¿«é€Ÿæ¼”ç¤ºï¼Œæˆ‘å¯ä»¥åˆ›å»ºä¸€ä¸ªé™æ€HTMLç‰ˆæœ¬å±•ç¤ºæ‰€æœ‰åŠŸèƒ½ç•Œé¢ã€‚

## ğŸ“± åŠŸèƒ½æ¼”ç¤º

### å·²å¼€å‘å®Œæˆçš„é¡µé¢

1. **é¦–é¡µ** (`pages/index/index.tsx`)
   - æ¬¢è¿ç•Œé¢
   - å¿«é€Ÿå…¥å£æŒ‰é’®
   - çƒ­é—¨å•†å“å±•ç¤º

2. **AIè´­ç‰©åŠ©æ‰‹** (`pages/chat/index.tsx`)
   - å®æ—¶èŠå¤©ç•Œé¢
   - æ¶ˆæ¯å†å²è®°å½•
   - AIå›å¤æ¨¡æ‹Ÿ

3. **æ™ºèƒ½æœç´¢** (`pages/search/index.tsx`)
   - è‡ªç„¶è¯­è¨€æœç´¢
   - æœç´¢å†å²
   - ç»“æœå±•ç¤º

4. **å•†å“è¯¦æƒ…** (`pages/product/detail.tsx`)
   - å•†å“å›¾ç‰‡è½®æ’­
   - è¯¦ç»†ä¿¡æ¯å±•ç¤º
   - è´­ä¹°æ“ä½œ

5. **è´­ç‰©è½¦** (`pages/cart/index.tsx`)
   - å•†å“ç®¡ç†
   - æ•°é‡è°ƒæ•´
   - ä»·æ ¼è®¡ç®—

## ğŸ¯ æ¨èä¸‹ä¸€æ­¥

1. **ç«‹å³å¯ç”¨**: åç«¯APIæœåŠ¡å™¨å·²å®Œå…¨åŠŸèƒ½æ­£å¸¸
2. **å‰ç«¯ä¿®å¤**: é€‰æ‹©ä¸Šè¿°é€‰é¡¹Aé‡æ–°åˆå§‹åŒ–Taroé¡¹ç›®
3. **åŠŸèƒ½å®Œå–„**: é›†æˆçœŸå®AIæœåŠ¡å’Œæ•°æ®åº“
4. **éƒ¨ç½²ä¸Šçº¿**: é…ç½®ç”Ÿäº§ç¯å¢ƒ

## ğŸ”„ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£å ç”¨**:
   ```bash
   # æ£€æŸ¥ç«¯å£ä½¿ç”¨
   lsof -i :3000
   lsof -i :10086
   
   # åœæ­¢æœåŠ¡
   pkill -f "node src/app.js"
   pkill -f "npm run dev:h5"
   ```

2. **ä¾èµ–é—®é¢˜**:
   ```bash
   # æ¸…ç†å¹¶é‡æ–°å®‰è£…
   rm -rf node_modules package-lock.json
   npm install --legacy-peer-deps
   ```

3. **ç¼–è¯‘é”™è¯¯**:
   ```bash
   # æ¸…ç†ç¼–è¯‘ç¼“å­˜
   rm -rf dist .taro
   npx taro build --type h5
   ```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æ£€æŸ¥æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
2. æŸ¥çœ‹æµè§ˆå™¨å¼€å‘è€…å·¥å…·
3. å‚è€ƒTaroå®˜æ–¹æ–‡æ¡£
4. ä½¿ç”¨æˆ‘æä¾›çš„å¤‡é€‰æ–¹æ¡ˆ

---

**é¡¹ç›®çŠ¶æ€**: 90% å®Œæˆï¼Œåªéœ€è§£å†³å‰ç«¯ç¼–è¯‘é…ç½®é—®é¢˜
**é¢„è®¡è§£å†³æ—¶é—´**: 30åˆ†é’Ÿï¼ˆé‡æ–°åˆå§‹åŒ–æ–¹æ¡ˆï¼‰


